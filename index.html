<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
    </head>
    <body>
        <script>
            let computerScore = 0;
            let playerScore = 0;

            //Ask for player's name
            let playerName = prompt("Please enter your name.")

            //Display welcome message
            function welcomeMessage() {
                alert(`Hello ${playerName} and welcome to rock, paper, scissors!`)
            }

            //Computer selection
            let computerSelection = function() {
                choice = Math.floor(Math.random()*(3));

                if (choice == 0) {
                    return("rock");
                } else if (choice == 1) {
                    return("paper");
                } else {
                    return("scissors");
                }
            };

            //Player selection
            let playerSelection = function() {
                let playerChoice = prompt("Please enter your selection.");
                return(playerChoice);
            }

            //Compare guesses
            function compare(playerSelection,computerSelection) {

                // Message showing who chose what
                alert(`You chose ${playerSelection} and the computer chose ${computerSelection}`);

                //Check for equality
                if (playerSelection === computerSelection) {
                    alert("It's a tie! No points added to either score.")
                    return 0;
                }

                //Check to see if someone won
                if ((playerSelection == "rock" && computerSelection == "scissors") || (playerSelection == "scissors" && computerSelection == "paper") || (playerSelection == "paper" && computerSelection == "rock")){
                    alert("Good job! You won that round.");
                    return(1);
                } else {
                    alert("Sorry, the computer won that round.")
                    return(2);
                }
            }

            //Update score
            function updateScore(compare) {

                if (compare == 1) {
                    playerScore++;
                } else if (compare == 2) {
                    computerScore++;
                }
            }

            //Actual function to play through the rounds
            function playGame(numberOfRounds) {

                welcomeMessage();
                do {
                    let computer = computerSelection();
                    let player = playerSelection();
                    let results = compare(player,computer);

                    updateScore(results);

                    if (results !== 0) {
                        numberOfRounds--;
                    }
                }

                while (numberOfRounds > 0);

                if (playerScore > computerScore) {
                    alert(`${playerName} has ${playerScore} points compared to the computer's ${computerScore} points. ${playerName} wins!`);
                } else if (playerScore < computerScore){
                    alert(`The computer has ${computerScore} points compare to ${playerName}'s ${playerScore} points. The computer wins this game.`);  
                } else {
                    alert(`The computer has ${computerScore} points compare to ${playerName}'s ${playerScore} points. It's a tie!`); 
                }
            }
                playGame(5);

        </script>
    </body>
</html>